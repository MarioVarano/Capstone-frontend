<div class="container col-xxl-8 px-4 py-5">
  <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
    <div class="col-10 col-sm-8 col-lg-6">
      <img src="../../../assets/prova8.jpg" class="d-block mx-lg-auto img-fluid rounded-4" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
    </div>
    <div class="col-lg-6">
      <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">Benvenuti su EpicHealth</h1>
      <p class="lead">Trova i migliori professionisti della medicina nella tua città. Registrati per scoprire tutti i servizi e fai il login per accedere al tuo account</p>
      <div class="d-grid gap-2 d-md-flex justify-content-md-start">
        <button class="btn btn-primary" (click)="openRegistrationModal()">Registrati</button>
        <button class="btn btn-outline-secondary" (click)="openLoginModal()">Login</button>
      </div>
    </div>
  </div>
</div>
<section class="info-section mb-5">
  <div class="container">
    <h2>Cerca un professionista della salute</h2>
    <p>
      Su EpicHealth troverai i migliori professionisti della salute pronti a soddisfare le tue necessità.<br/>
      Potrai metterti in contatto e prenotare un appuntamento.
    </p>
    <h3>Cosa Troverai nel Nostro Sito:</h3>
    <ul>
      <li><strong>Infermieri:</strong> Assistenza domiciliare e infermieristica professionale.</li>
      <li><strong>Medici:</strong> Medici generici e specialisti per ogni tua necessità.</li>
      <li><strong>Dentisti:</strong> Cura e prevenzione della salute dentale.</li>
      <li><strong>Fisioterapisti:</strong> Riabilitazione fisica e terapie personalizzate.</li>
    </ul>
    <p>
      Registrati oggi stesso per accedere a tutti i servizi e trovare il professionista che fa per te!
    </p>
  </div>
</section>

<!-- Registration Modal -->
<ng-template #registrationModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Registrazione</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="register(modal)">
      <div class="mb-3">
        <label for="firstName" class="form-label">Nome</label>
        <input type="text" id="firstName" class="form-control" [(ngModel)]="registerUserData.firstName" name="firstName" required>
      </div>
      <div class="mb-3">
        <label for="lastName" class="form-label">Cognome</label>
        <input type="text" id="lastName" class="form-control" [(ngModel)]="registerUserData.lastName" name="lastName" required>
      </div>
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" [(ngModel)]="registerUserData.username" name="username" required>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" class="form-control" [(ngModel)]="registerUserData.email" name="email" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" class="form-control" [(ngModel)]="registerUserData.password" name="password" required>
      </div>
      <div class="mb-3">
        <label for="city" class="form-label">Città</label>
        <input type="text" id="city" class="form-control" [(ngModel)]="registerUserData.city" name="city" required>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" id="isProfessionista" class="form-check-input" [(ngModel)]="isProfessionista" name="isProfessionista">
        <label for="isProfessionista" class="form-check-label">Sono un Professionista</label>
      </div>
      <div *ngIf="isProfessionista">
        <div class="mb-3">
          <label for="specializzazione" class="form-label">Specializzazione</label>
          <input type="text" id="specializzazione" class="form-control" [(ngModel)]="registerProfessionistaData.specializzazione" name="specializzazione">
        </div>
        <div class="mb-3">
          <label for="descrizione" class="form-label">Descrizione</label>
          <textarea id="descrizione" class="form-control" [(ngModel)]="registerProfessionistaData.descrizione" name="descrizione"></textarea>
        </div>
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('Cancel')">Indietro</button>
        <button type="submit" class="btn btn-primary">Registrati</button>
      </div>
    </form>
  </div>
</ng-template>

<!-- Login Modal -->
<ng-template #loginModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Login</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="login(modal)">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" [(ngModel)]="loginData.username" name="username" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" class="form-control" [(ngModel)]="loginData.password" name="password" required>
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('Cancel')">Indietro</button>
        <button type="submit" class="btn btn-primary">Login</button>
      </div>
    </form>
  </div>
</ng-template>
